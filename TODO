fix error checking with try catch\

read/write for sending make non blocking ?????